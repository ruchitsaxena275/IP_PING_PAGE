import streamlit as st
import pandas as pd
from ping3 import ping

# ------------------ DEVICE LIST ------------------
devices = [
    {"name": "Device-1", "ip": "10.22.250.1"},
    {"name": "Device-2", "ip": "10.22.250.2"},
    {"name": "Device-3", "ip": "10.22.250.3"},
    {"name": "Device-4", "ip": "10.22.250.4"},
    {"name": "Device-5", "ip": "10.22.250.5"},
    {"name": "Device-6", "ip": "10.22.250.6"},
    {"name": "Device-7", "ip": "10.22.250.7"},
    {"name": "Device-8", "ip": "10.22.250.8"},
    {"name": "Device-9", "ip": "10.22.250.9"},
    {"name": "Device-10", "ip": "10.22.250.10"},
    {"name": "Device-11", "ip": "10.22.250.11"},
    {"name": "Device-12", "ip": "10.22.250.12"},
    {"name": "Device-13", "ip": "10.22.250.13"},
    {"name": "Device-14", "ip": "10.22.250.14"},
    {"name": "Device-15", "ip": "10.22.250.15"},
    {"name": "Device-16", "ip": "10.22.250.16"},
    {"name": "Device-17", "ip": "10.22.250.17"},
    {"name": "Device-18", "ip": "10.22.250.18"},
    {"name": "Device-19", "ip": "10.22.250.19"},
    {"name": "Device-20", "ip": "10.22.250.20"},
    {"name": "Device-21", "ip": "10.22.250.21"},
    {"name": "Device-22", "ip": "10.22.250.22"},
    {"name": "Device-23", "ip": "10.22.250.23"},
    {"name": "Device-24", "ip": "10.22.250.24"},
    {"name": "Device-25", "ip": "10.22.250.25"},
    {"name": "Device-26", "ip": "10.22.250.26"},
    {"name": "Device-27", "ip": "10.22.250.27"},
    {"name": "Device-28", "ip": "10.22.250.28"},
    {"name": "Device-29", "ip": "10.22.250.29"},
    {"name": "Device-30", "ip": "10.22.250.30"},
    {"name": "Device-31", "ip": "10.22.250.31"},
    {"name": "Device-32", "ip": "10.22.250.32"},
    {"name": "Device-33", "ip": "10.22.250.33"},
    {"name": "Device-34", "ip": "10.22.250.34"},
    {"name": "Device-35", "ip": "10.22.250.35"},
    {"name": "Device-36", "ip": "10.22.250.36"},
    {"name": "Device-37", "ip": "10.22.250.37"},
    {"name": "Device-38", "ip": "10.22.250.38"},
    {"name": "Device-39", "ip": "10.22.250.39"},
    {"name": "Device-40", "ip": "10.22.250.40"},
    {"name": "Device-41", "ip": "10.22.250.41"},
    {"name": "Device-42", "ip": "10.22.250.42"},
    {"name": "Device-43", "ip": "10.22.250.43"},
    {"name": "Device-44", "ip": "10.22.250.44"},
    {"name": "Device-45", "ip": "10.22.250.45"},
    {"name": "Device-46", "ip": "10.22.250.46"},
    {"name": "Device-47", "ip": "10.22.250.47"},
    {"name": "Device-48", "ip": "10.22.250.48"},
    {"name": "Device-49", "ip": "10.22.250.49"},
    {"name": "Device-50", "ip": "10.22.250.50"},
    {"name": "Device-51", "ip": "10.22.250.51"},
    {"name": "Device-52", "ip": "10.22.250.52"},
    {"name": "Device-53", "ip": "10.22.250.53"},
    {"name": "Device-54", "ip": "10.22.250.54"},
    {"name": "Device-55", "ip": "10.22.250.55"},
    {"name": "Device-56", "ip": "10.22.250.56"},
    {"name": "Device-57", "ip": "10.22.250.57"},
    {"name": "Device-58", "ip": "10.22.250.58"},
    {"name": "Device-59", "ip": "10.22.250.59"},
    {"name": "Device-60", "ip": "10.22.250.60"},
    {"name": "Device-61", "ip": "10.22.250.61"},
    {"name": "Device-62", "ip": "10.22.250.62"},
    {"name": "Device-63", "ip": "10.22.250.63"},
    {"name": "Device-64", "ip": "10.22.250.64"},
    {"name": "Device-65", "ip": "10.22.250.65"},
    {"name": "Device-66", "ip": "10.22.250.66"},
    {"name": "Device-67", "ip": "10.22.250.67"},
    {"name": "Device-68", "ip": "10.22.250.68"},
    {"name": "Device-69", "ip": "10.22.250.69"},
    {"name": "Device-70", "ip": "10.22.250.70"},
    {"name": "Device-71", "ip": "10.22.250.71"},
    {"name": "Device-72", "ip": "10.22.250.72"},
    {"name": "Device-73", "ip": "10.22.250.73"},
    {"name": "Device-74", "ip": "10.22.250.74"},
    {"name": "Device-75", "ip": "10.22.250.75"},
    {"name": "Device-76", "ip": "10.22.250.76"},
    {"name": "Device-77", "ip": "10.22.250.77"},
    {"name": "Device-78", "ip": "10.22.250.78"},
    {"name": "Device-79", "ip": "10.22.250.79"},
    {"name": "Device-80", "ip": "10.22.250.80"},
    {"name": "Device-81", "ip": "10.22.250.81"},
    {"name": "Device-82", "ip": "10.22.250.82"},
    {"name": "Device-83", "ip": "10.22.250.83"},
    {"name": "Device-84", "ip": "10.22.250.84"},
    {"name": "Device-85", "ip": "10.22.250.85"},
    {"name": "Device-86", "ip": "10.22.250.86"},
    {"name": "Device-87", "ip": "10.22.250.87"},
    {"name": "Device-88", "ip": "10.22.250.88"},
    {"name": "Device-89", "ip": "10.22.250.89"},
    {"name": "Device-90", "ip": "10.22.250.90"},
    {"name": "Device-91", "ip": "10.22.250.91"},
    {"name": "Device-92", "ip": "10.22.250.92"},
    {"name": "Device-93", "ip": "10.22.250.93"},
    {"name": "Device-94", "ip": "10.22.250.94"},
    {"name": "Device-95", "ip": "10.22.250.95"},
    {"name": "Device-96", "ip": "10.22.250.96"},
    {"name": "Device-97", "ip": "10.22.250.97"},
    {"name": "Device-98", "ip": "10.22.250.98"},
    {"name": "Device-99", "ip": "10.22.250.99"},
    {"name": "Device-100", "ip": "10.22.250.100"},
    {"name": "Device-101", "ip": "10.22.250.101"},
    {"name": "Device-102", "ip": "10.22.250.102"},
    {"name": "Device-103", "ip": "10.22.250.103"},
    {"name": "Device-104", "ip": "10.22.250.104"},
    {"name": "Device-105", "ip": "10.22.250.105"},
    {"name": "Device-106", "ip": "10.22.250.106"},
    {"name": "Device-107", "ip": "10.22.250.107"},
    {"name": "Device-108", "ip": "10.22.250.108"},
    {"name": "Device-109", "ip": "10.22.250.109"},
    {"name": "Device-110", "ip": "10.22.250.110"},
    {"name": "Device-111", "ip": "10.22.250.111"},
    {"name": "Device-112", "ip": "10.22.250.112"},
    {"name": "Device-113", "ip": "10.22.250.113"},
    {"name": "Device-114", "ip": "10.22.250.114"},
    {"name": "Device-115", "ip": "10.22.250.115"},
    {"name": "Device-116", "ip": "10.22.250.116"},
    {"name": "Device-117", "ip": "10.22.250.117"},
    {"name": "Device-118", "ip": "10.22.250.118"},
    {"name": "Device-119", "ip": "10.22.250.119"},
    {"name": "Device-120", "ip": "10.22.250.120"},
    {"name": "Device-121", "ip": "10.22.250.121"},
    {"name": "Device-122", "ip": "10.22.250.122"},
    {"name": "Device-123", "ip": "10.22.250.123"},
    {"name": "Device-124", "ip": "10.22.250.124"},
    {"name": "Device-125", "ip": "10.22.250.125"},
    {"name": "Device-126", "ip": "10.22.250.126"},
    {"name": "Device-127", "ip": "10.22.250.127"},
    {"name": "Device-128", "ip": "10.22.250.128"},
    {"name": "Device-129", "ip": "10.22.250.129"},
    {"name": "Device-130", "ip": "10.22.250.130"},
    {"name": "Device-131", "ip": "10.22.250.131"},
    {"name": "Device-132", "ip": "10.22.250.132"},
    {"name": "Device-133", "ip": "10.22.250.133"},
    {"name": "Device-134", "ip": "10.22.250.134"},
    {"name": "Device-135", "ip": "10.22.250.135"},
    {"name": "Device-136", "ip": "10.22.250.136"},
    {"name": "Device-137", "ip": "10.22.250.137"},
    {"name": "Device-138", "ip": "10.22.250.138"},
    {"name": "Device-139", "ip": "10.22.250.139"},
    {"name": "Device-140", "ip": "10.22.250.140"},
    {"name": "Device-141", "ip": "10.22.250.141"},
    {"name": "Device-142", "ip": "10.22.250.142"},
    {"name": "Device-143", "ip": "10.22.250.143"},
    {"name": "Device-144", "ip": "10.22.250.144"},
    {"name": "Device-145", "ip": "10.22.250.145"},
    {"name": "Device-146", "ip": "10.22.250.146"},
    {"name": "Device-147", "ip": "10.22.250.147"},
    {"name": "Device-148", "ip": "10.22.250.148"},
    {"name": "Device-149", "ip": "10.22.250.149"},
    {"name": "Device-150", "ip": "10.22.250.150"},
    {"name": "Device-151", "ip": "10.22.250.151"},
    {"name": "Device-152", "ip": "10.22.250.152"},
    {"name": "Device-153", "ip": "10.22.250.153"},
    {"name": "Device-154", "ip": "10.22.250.154"},
    {"name": "Device-155", "ip": "10.22.250.155"},
    {"name": "Device-156", "ip": "10.22.250.156"},
    {"name": "Device-157", "ip": "10.22.250.157"},
    {"name": "Device-158", "ip": "10.22.250.158"},
    {"name": "Device-159", "ip": "10.22.250.159"},
    {"name": "Device-160", "ip": "10.22.250.160"},
    {"name": "Device-161", "ip": "10.22.250.161"},
    {"name": "Device-162", "ip": "10.22.250.162"},
    {"name": "Device-163", "ip": "10.22.250.163"},
    {"name": "Device-164", "ip": "10.22.250.164"},
    {"name": "Device-165", "ip": "10.22.250.165"},
    {"name": "Device-166", "ip": "10.22.250.166"},
    {"name": "Device-167", "ip": "10.22.250.167"},
    {"name": "Device-168", "ip": "10.22.250.168"},
    {"name": "Device-169", "ip": "10.22.250.169"},
    {"name": "Device-170", "ip": "10.22.250.170"},
    {"name": "Device-171", "ip": "10.22.250.171"},
    {"name": "Device-172", "ip": "10.22.250.172"},
    {"name": "Device-173", "ip": "10.22.250.173"},
    {"name": "Device-174", "ip": "10.22.250.174"},
    {"name": "Device-175", "ip": "10.22.250.175"},
    {"name": "Device-176", "ip": "10.22.250.176"},
    {"name": "Device-177", "ip": "10.22.250.177"},
    {"name": "Device-178", "ip": "10.22.250.178"},
    {"name": "Device-179", "ip": "10.22.250.179"},
    {"name": "Device-180", "ip": "10.22.250.180"},
    {"name": "Device-181", "ip": "10.22.250.181"},
    {"name": "Device-182", "ip": "10.22.250.182"},
    {"name": "Device-183", "ip": "10.22.250.183"},
    {"name": "Device-184", "ip": "10.22.250.184"},
    {"name": "Device-185", "ip": "10.22.250.185"},
    {"name": "Device-186", "ip": "10.22.250.186"},
    {"name": "Device-187", "ip": "10.22.250.187"},
    {"name": "Device-188", "ip": "10.22.250.188"},
    {"name": "Device-189", "ip": "10.22.250.189"},
    {"name": "Device-190", "ip": "10.22.250.190"},
    {"name": "Device-191", "ip": "10.22.250.191"},
    {"name": "Device-192", "ip": "10.22.250.192"},
    {"name": "Device-193", "ip": "10.22.250.193"},
    {"name": "Device-194", "ip": "10.22.250.194"},
    {"name": "Device-195", "ip": "10.22.250.195"},
    {"name": "Device-196", "ip": "10.22.250.196"},
    {"name": "Device-197", "ip": "10.22.250.197"},
    {"name": "Device-198", "ip": "10.22.250.198"},
    {"name": "Device-199", "ip": "10.22.250.199"},
    {"name": "Device-200", "ip": "10.22.250.200"},
    {"name": "Device-201", "ip": "10.22.250.201"},
    {"name": "Device-202", "ip": "10.22.250.202"},
    {"name": "Device-203", "ip": "10.22.250.203"},
    {"name": "Device-204", "ip": "10.22.250.204"},
    {"name": "Device-205", "ip": "10.22.250.205"},
    {"name": "Device-206", "ip": "10.22.250.206"},
    {"name": "Device-207", "ip": "10.22.250.207"},
    {"name": "Device-208", "ip": "10.22.250.208"},
    {"name": "Device-209", "ip": "10.22.250.209"},
    {"name": "Device-210", "ip": "10.22.250.210"},
    {"name": "Device-211", "ip": "10.22.250.211"},
    {"name": "Device-212", "ip": "10.22.250.212"},
    {"name": "Device-213", "ip": "10.22.250.213"},
    {"name": "Device-214", "ip": "10.22.250.214"},
    {"name": "Device-215", "ip": "10.22.250.215"},
    {"name": "Device-216", "ip": "10.22.250.216"},
    {"name": "Device-217", "ip": "10.22.250.217"},
    {"name": "Device-218", "ip": "10.22.250.218"},
    {"name": "Device-219", "ip": "10.22.250.219"},
    {"name": "Device-220", "ip": "10.22.250.220"},
    {"name": "Device-221", "ip": "10.22.250.221"},
    {"name": "Device-222", "ip": "10.22.250.222"},
    {"name": "Device-223", "ip": "10.22.250.223"},
    {"name": "Device-224", "ip": "10.22.250.224"},
    {"name": "Device-225", "ip": "10.22.250.225"},
    {"name": "Device-226", "ip": "10.22.250.226"},
    {"name": "Device-227", "ip": "10.22.250.227"},
    {"name": "Device-228", "ip": "10.22.250.228"},
    {"name": "Device-229", "ip": "10.22.250.229"},
    {"name": "Device-230", "ip": "10.22.250.230"},
    {"name": "Device-231", "ip": "10.22.250.231"},
    {"name": "Device-232", "ip": "10.22.250.232"},
    {"name": "Device-233", "ip": "10.22.250.233"},
    {"name": "Device-234", "ip": "10.22.250.234"},
    {"name": "Device-235", "ip": "10.22.250.235"},
    {"name": "Device-236", "ip": "10.22.250.236"},
    {"name": "Device-237", "ip": "10.22.250.237"},
    {"name": "Device-238", "ip": "10.22.250.238"},
    {"name": "Device-239", "ip": "10.22.250.239"},
    {"name": "Device-240", "ip": "10.22.250.240"},
    {"name": "Device-241", "ip": "10.22.250.241"},
    {"name": "Device-242", "ip": "10.22.250.242"},
    {"name": "Device-243", "ip": "10.22.250.243"},
    {"name": "Device-244", "ip": "10.22.250.244"},
    {"name": "Device-245", "ip": "10.22.250.245"},
    {"name": "Device-246", "ip": "10.22.250.246"},
    {"name": "Device-247", "ip": "10.22.250.247"},
    {"name": "Device-248", "ip": "10.22.250.248"},
    {"name": "Device-249", "ip": "10.22.250.249"},
    {"name": "Device-250", "ip": "10.22.250.250"}
]

# ------------------ STREAMLIT APP ------------------
st.set_page_config(page_title="IP Ping Monitor", layout="wide")
st.title("🌐 IP Ping Monitor")
st.write("Ping all devices in one click and see which are online/offline.")

if st.button("🚀 Ping All Devices"):
    results = []
    for d in devices:
        response = ping(d["ip"], timeout=1)
        if response:  # response time in seconds
            ms = round(response * 1000, 1)
            status = f"✅ Online ({ms} ms)"
        else:
            status = "❌ Offline"
        results.append({"Device": d["name"], "IP": d["ip"], "Status": status})

    df = pd.DataFrame(results)
    st.dataframe(df, use_container_width=True)
